SWIFTLINT_PATH = PROJECT_PARAMS[:SWIFTLINT_PATH]

# --- SwiftLint

desc 'run swiftlint on the entire codebase'
lane :run_swiftlint do |options|
    begin
        executable = sh "which swiftlint|tr -d '\n'"
        puts "Found 'swiftlint' at: "+executable
        defaults = {
            config_file: SWIFTLINT_PATH,
            executable: executable,
            path: "../#{APP_SCHEME}/**/*",
            output_file: "#{REPORTS_FOLDER}/swiftlint.result"
        }.freeze

        swiftlint(defaults.merge(options))
    rescue
      puts "Skipping step - Couldn't find 'swiftlint'"
    end
end
